<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Littera — Main</title>
    <link rel="stylesheet" href="pages/reset.css" />
    <link rel="stylesheet" href="styles/styles.css" />
    <link rel="shortcut icon" href="./images/logo.webp" type="image/x-icon">
  </head>
  <body>
    <header class="main-header">
      <div class="header-inner">
        <button class="menu-toggle" id="menu-toggle" aria-label="Menu">
          <span></span>
          <span></span>
          <span></span>
        </button>
        
        <div class="logo-header" id="logo-header">
          <a href="./index.html"><img src="./images/logo-main.webp" alt="Littera logo" /></a>
        </div>
        
        <div id="popup-search-container" class="popup-search-container">
          <input type="text" name="" id="popup-input" class="popup-input" placeholder="Pesquisar livros..." />
        </div>
        
        <nav class="top-nav">
          <a class="btn search-icon" id="search-icon">
            <img src="images/lupa.webp" alt="Pesquisar" />
          </a>
          <span class="close-search" id="close-search">&times;</span>
        </nav>
      </div>
    </header>

    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <div class="main-layout">
      <aside class="sidebar" id="sidebar">
        <button class="sidebar-close" id="sidebar-close" style="display: none;">&times;</button>
        <ul>
          <li>
            <details class="caixa-detalhes">
              <summary>Configurações da conta</summary>
              <div class="caixa-conteudo">
                <p><a id="userArea" href="pages/userarea/userArea.html">Editar Perfil</a></p>
                <p><a id="signout-btn" class="signout-btn">Sair</a></p>
              </div>
            </details>
          </li>
          <li>
            <details class="caixa-detalhes">
              <summary>Area do Cliente</summary>
              <div id="areaDoCliente" class="caixa-conteudo">
              </div>
            </details>
          </li>
        </ul>
      </aside>

      <main class="content-area">
        <section class="cards-grid" id="cards-grid">
        </section>
      </main>
    </div>


    <button type="button" id="add-book-btn" class="add-book-btn" title="Cadastrar Livro">+</button>

    <div id="add-book-modal" class="modal">
      <div class="modal-content modal-form">
        <span class="close-modal" id="close-add-book-modal">&times;</span>
        <h2>Cadastrar Livro</h2>
        <form id="form-cadastrar-livro" enctype="multipart/form-data">
          <div class="form-group">
            <label for="titulo">Título do Livro:</label>
            <input type="text" id="titulo" name="titulo" required />
          </div>
          <div class="form-group">
            <label for="autora">Nome da Autora:</label>
            <input type="text" id="autora" name="autora" required />
          </div>
          <div class="form-group">
            <label for="paginas">Número de Páginas:</label>
            <input type="number" id="paginas" name="paginas" min="1" required />
          </div>
          <div class="form-group">
            <label for="editora">Nome da Editora:</label>
            <input type="text" id="editora" name="editora" required />
          </div>
          <div class="form-group">
            <label for="sobre">Descrição do anúncio</label>
            <textarea name="sobre" id="sobre" required></textarea>
          </div>
          <div class="form-group">
            <label for="generos">Gêneros Literários:</label>
            <div id="generos-container" class="generos-container">
              <input type="text" id="genero-input" class="genero-input" placeholder="Digite um gênero e pressione Enter" />
              <div id="generos-tags" class="generos-tags"></div>
            </div>
            <small style="color: #6b7280; margin-top: 4px; display: block;">
              Exemplos: Romance, Ficção, Suspense, Terror, etc.
            </small>
          </div>
          <div class="form-group">
            <label for="imagem">Imagens do Livro (até 5):</label>
            <input type="file" id="imagem" name="imagem" accept="image/*" multiple required />
            <small style="color: #6b7280; margin-top: 4px; display: block;">Selecione de 1 a 5 imagens</small>
            <div id="image-preview" class="image-preview"></div>
          </div>
          <button type="submit" class="btn-submit">Cadastrar</button>
        </form>
      </div>
    </div>

    <footer>
      <div class="footer-inner">
        <p>&copy; 2025 Littera. Todos os direitos reservados.</p>
      </div>
    </footer>

    <script type="module" src="./main/auth.ts"></script>
    <script type="module" src="./main/fetchBooks.ts"></script>
    <script type="module" src="./main/logout.ts"></script>
    <script type="module" src="./main/menuMobile.ts"></script>
    <script type="module" src="./main/searchToggle.ts"></script>
    <script type="module" src="./main/novoAnuncio.ts"></script>
    <script type="module" src="./main/addBookModal.ts"></script>
  </body>
</html>
