import{s as a}from"./supabase-C7rZz57M.js";import"./login-8X6bOpmx.js";import"./guard-SrXEI54j.js";const r=document.getElementById("signout-btn"),e=document.getElementById("userArea");n();async function n(){try{const{data:t}=await a.auth.getUser();t?.user?(r&&(r.style.display="block"),e&&(e.style.display="block")):(r&&(r.style.display="none"),e&&(e.innerText="Faça login",e.href="../pages/login/login.html"))}catch(t){console.error("Erro ao checar autenticação:",t)}}r&&r.addEventListener("click",async t=>{t.preventDefault();try{const{error:o}=await a.auth.signOut(),s=await a.auth.getUser();if(console.log("post-signOut getUser:",s),o){console.error("erro ao sair",o),alert("Erro ao sair. Veja o console para detalhes.");return}r&&(r.style.display="none"),e&&(e.innerText="Faça login",e.href="../pages/login/login.html")}catch(o){console.error("Erro no fluxo de signOut:",o),alert("Erro ao sair. Veja o console para detalhes.")}});
