import{s}from"./supabase-BDK56hxo.js";async function i(o,r){try{const{data:e,error:n}=await s.auth.signInWithPassword({email:o,password:r});return n?(console.error("Login error:",n),alert(`Erro no login: ${n.message}`),!1):e.session.user?!0:(console.warn("Login returned no user data",e),alert("Não foi possível efetuar o login. Tente novamente."),!1)}catch(e){return console.error("Unexpected signIn error",e),alert("Erro inesperado ao tentar logar. Veja o console para mais detalhes."),!1}}document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("loginForm");if(!o){console.warn("loginForm não encontrado no DOM.");return}o.addEventListener("submit",async r=>{r.preventDefault();const e=document.getElementById("email"),n=document.getElementById("password");if(!e||!n)return alert("Campos de email ou senha não encontrados na página."),!1;const a=e.value.trim(),t=n.value;if(!a||!t){alert("Preencha email e senha antes de enviar.");return}await i(a,t)&&(alert("Login realizado com sucesso!"),window.location.href="/index.html")})});
