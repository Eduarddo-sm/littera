import{a as o,s as i}from"./popup-B9BBiTrj.js";async function l(r,a){try{const{data:e,error:n}=await i.auth.signInWithPassword({email:r,password:a});return n?(console.error("Login error:",n),o(`Erro no login: ${n.message}`,3e3,0),!1):e.session.user?!0:(console.warn("Login returned no user data",e),o("Não foi possível efetuar o login. Tente novamente.",3e3,0),!1)}catch(e){return console.error("Unexpected signIn error",e),o("Erro inesperado ao tentar logar. Veja o console para mais detalhes.",3e3,0),!1}}document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("loginForm");if(!r){console.warn("loginForm não encontrado no DOM.");return}r.addEventListener("submit",async a=>{a.preventDefault();const e=document.getElementById("email"),n=document.getElementById("password");if(!e||!n)return o("Campos de email ou senha não encontrados na página.",3e3,0),!1;const t=e.value.trim(),s=n.value;if(!t||!s){o("Preencha email e senha antes de enviar.",3e3,0);return}await l(t,s)&&(o("Login realizado com sucesso!",2e3,2),setTimeout(()=>{window.location.href="/index.html"},2e3))})});
