import{a as n,s as i}from"./popup-BbttVVEm.js";/* empty css              */async function l(r,a){try{const{data:e,error:o}=await i.auth.signInWithPassword({email:r,password:a});return o?(console.error("Login error:",o),n(`Erro no login: ${o.message}`,3e3,0),!1):e.session.user?!0:(console.warn("Login returned no user data",e),n("Não foi possível efetuar o login. Tente novamente.",3e3,0),!1)}catch(e){return console.error("Unexpected signIn error",e),n("Erro inesperado ao tentar logar. Veja o console para mais detalhes.",3e3,0),!1}}document.addEventListener("DOMContentLoaded",()=>{const r=document.getElementById("loginForm");if(!r){console.warn("loginForm não encontrado no DOM.");return}r.addEventListener("submit",async a=>{a.preventDefault();const e=document.getElementById("email"),o=document.getElementById("password");if(!e||!o)return n("Campos de email ou senha não encontrados na página.",3e3,0),!1;const t=e.value.trim(),s=o.value;if(!t||!s){n("Preencha email e senha antes de enviar.",3e3,0);return}await l(t,s)&&(n("Login realizado com sucesso!",2e3,2),setTimeout(()=>{window.location.href="/index.html"},2e3))})});
